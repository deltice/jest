<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Testing React Native Apps · Jest</title><meta name="viewport" content="width=device-width"/><meta property="og:title" content="Testing React Native Apps · Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://facebook.github.io/jest/index.html"/><meta property="og:description" content="Facebookでは、Jestを使用して [React Native](http://facebook.github.io/react-native/) アプリケーションをテストします。"/><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="/jest/css/main.css"/><script async="" defer="" src="https://buttons.github.io/buttons.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"/><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/ja/getting-started.html" target="_self">ドキュメント</a></li><li><a href="/jest/docs/ja/api.html" target="_self">API</a></li><li><a href="/jest/ja/help.html" target="_self">ヘルプ</a></li><li><a href="/jest/blog" target="_self">ブログ</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg"/>日本語</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/en">English</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/uk">Українська</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guides</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ja/getting-started.html#content">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/using-matchers.html#content">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/asynchronous.html#content">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/setup-teardown.html#content">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/mock-functions.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/more-resources.html#content">More Resources</a></li></ul></div><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ja/api.html#content">Globals</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/mock-function-api.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/jest-object.html#content">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/configuration.html#content">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/cli.html#content">Jest CLI Options</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ja/snapshot-testing.html#content">スナップショットテスト</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/tutorial-react.html#content">Testing React Apps</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/ja/tutorial-react-native.html#content">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/tutorial-async.html#content">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/timer-mocks.html#content">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/manual-mocks.html#content">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/webpack.html#content">Using with webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/migration-guide.html#content">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/testing-frameworks.html#content">Testing other frameworks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ja/troubleshooting.html#content">Troubleshooting</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/ja" target="_blank">Translate this Doc</a><h1>Testing React Native Apps</h1></header><article><div><p>Facebookでは、Jestを使用して <a href="http://facebook.github.io/react-native/" target="_blank">React Native</a> アプリケーションをテストします。</p><p>動く React Native アプリケーションのテストに関するより深い知見は以下のシリーズを読むことで得てください: <a href="https://blog.callstack.io/unit-testing-react-native-with-the-new-jest-i-snapshots-come-into-play-68ba19b1b9fe#.12zbnbgwc" target="_blank">Part 1: Jest – Snapshot come into play</a>、<a href="https://blog.callstack.io/unit-testing-react-native-with-the-new-jest-ii-redux-snapshots-for-your-actions-and-reducers-8559f6f8050b" target="_blank">Part 2: Jest – Redux Snapshots for your Actions and Reducers</a></p><h2><a class="anchor" name=""></a>セットアップ <a class="hash-link" href="#">#</a></h2><p>react-native 0.38 より <code>react-native init</code> コマンドに Jest セットアップがデフォルトで含まれています。 以下の設定が自動的に package.json ファイルに追加されます。</p><pre class="prism language-json">// package.json
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;jest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;preset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-native&quot;</span>
  <span class="token punctuation">}</span></pre><p><em>Note: もしあなたが react-native アプリケーションをアップグレードする際に <code>jest-react-native</code> preset を利用していた場合はその依存を <code>package.json</code> から削除し、 preset を <code>react-native</code> に変更してください。</em></p><p>シンプルに <code>npm test</code> を実行するだけで Jest でテストを実行することができます。</p><h2><a class="anchor" name=""></a>スナップショットテスト <a class="hash-link" href="#">#</a></h2><p>さあ <a href="/jest/docs/snapshot-testing.html" target="">スナップショットテスト</a> をいくつかのビューとテキストコンポーネントをもつサンプルコンポーネントに対して作りましょう。</p><pre class="prism language-javascript"><span spellcheck="true" class="token comment">// Intro.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  StyleSheet<span class="token punctuation">,</span>
  Text<span class="token punctuation">,</span>
  View<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-native&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alignItems<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
    backgroundColor<span class="token punctuation">:</span> <span class="token string">&#x27;#F5FCFF&#x27;</span><span class="token punctuation">,</span>
    flex<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    justifyContent<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  instructions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> <span class="token string">&#x27;#333333&#x27;</span><span class="token punctuation">,</span>
    marginBottom<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  welcome<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    margin<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Intro</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>View style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>welcome<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          Welcome to React Native<span class="token operator">!</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>instructions<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          This is a React Native snapshot test<span class="token punctuation">.</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>View<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>コンポーネントとのやり取りとレンダリングされた出力をキャプチャしてスナップショットファイルを作成するために、ReactのテストレンダラーとJestのスナップショット機能を利用しましょう:</p><pre class="prism language-javascript"><span spellcheck="true" class="token comment">// __tests__/Intro-test.js</span>
<span class="token keyword">import</span> <span class="token string">&#x27;react-native&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Intro <span class="token keyword">from</span> <span class="token string">&#x27;../Intro&#x27;</span><span class="token punctuation">;</span>

<span spellcheck="true" class="token comment">// Note: test renderer は react-native の後で import される必要があります。</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">&#x27;react-test-renderer&#x27;</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;renders correctly&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> tree <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Intro <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p><code>npm test</code> または <code>jest</code>を実行すると、このようなファイルが出力されます:</p><pre class="prism language-javascript"><span spellcheck="true" class="token comment">// __tests__/__snapshots__/Intro-test.js.snap</span>
exports<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`Intro renders correctly 1`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token string">`
&lt;View
  style={
    Object {
      &quot;alignItems&quot;: &quot;center&quot;,
      &quot;backgroundColor&quot;: &quot;#F5FCFF&quot;,
      &quot;flex&quot;: 1,
      &quot;justifyContent&quot;: &quot;center&quot;,
    }
  }&gt;
  &lt;Text
    style={
      Object {
        &quot;fontSize&quot;: 20,
        &quot;margin&quot;: 10,
        &quot;textAlign&quot;: &quot;center&quot;,
      }
    }&gt;
    Welcome to React Native!
  &lt;/Text&gt;
  &lt;Text
    style={
      Object {
        &quot;color&quot;: &quot;#333333&quot;,
        &quot;marginBottom&quot;: 5,
        &quot;textAlign&quot;: &quot;center&quot;,
      }
    }&gt;
    This is a React Native snapshot test.
  &lt;/Text&gt;
&lt;/View&gt;
`</span></span><span class="token punctuation">;</span></pre><p>次回のテストでは、レンダリングされた出力は前に作成されたスナップショットと比較されます。 スナップショットは、コードの変更に沿ってコミットされるべきです。 スナップショットテストが失敗した場合、それが意図的な変更かどうかを点検する必要があります。 変更が予想されたものであれば<code>jest -u</code>コマンドでJestを実行して既存のスナップショットを上書きします。</p><p>The code for this example is available at <a href="https://github.com/facebook/jest/tree/master/examples/react-native" target="_blank">examples/react-native</a>.</p><h2><a class="anchor" name="preset"></a>Preset 設定 <a class="hash-link" href="#preset">#</a></h2><p>The preset sets up the environment and is very opinionated and based on what we found to be useful at Facebook. All of the configuration options can be overwritten just as they can be customized when no preset is used.</p><h3><a class="anchor" name=""></a>環境 <a class="hash-link" href="#">#</a></h3><p><code>react-native</code> ships with a Jest preset, so the <code>jest.preset</code> field of your <code>package.json</code> should point to <code>react-native</code>. The preset is a node environment that mimics the environment of a React Native app. Because it doesn&#x27;t load any DOM or browser APIs, it greatly improves Jest&#x27;s startup time.</p><h3><a class="anchor" name="transformignorepatterns"></a>transformIgnorePatterns のカスタム <a class="hash-link" href="#transformignorepatterns">#</a></h3><p>The <a href="configuration.html#transformignorepatterns-array-string" target="_blank"><code>transformIgnorePatterns</code></a> option can be used to whitelist or blacklist files from being transformed with babel. Many react-native npm modules unfortunately don&#x27;t pre-compile their source code before publishing.</p><p>By default the jest-react-native preset only processes the project&#x27;s own source files and react-native. If you have npm dependencies that have to be transformed you can customize this configuration option by whitelisting modules other than react-native:</p><pre class="prism language-json"><span class="token property">&quot;transformIgnorePatterns&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;node_modules/(?!(react-native|my-project|react-native-button)/)&quot;</span>
<span class="token punctuation">]</span></pre><h3><a class="anchor" name="setupfiles"></a>setupFiles <a class="hash-link" href="#setupfiles">#</a></h3><p>If you&#x27;d like to provide additional configuration for every test file, the <a href="configuration.html#setupfiles-array" target="_blank"><code>setupFiles</code> configuration option</a> can be used to specify setup scripts.</p><h3><a class="anchor" name="modulenamemapper"></a>moduleNameMapper <a class="hash-link" href="#modulenamemapper">#</a></h3><p>The <a href="configuration.html#modulenamemapper-object-string-string" target="_blank"><code>moduleNameMapper</code></a> can be used to map a module path to a different module. By default the preset maps all images to an image stub module but if a module cannot be found this configuration option can help:</p><pre class="prism language-json"><span class="token property">&quot;moduleNameMapper&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;my-module.js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;rootDir&gt;/path/to/my-module.js&quot;</span>
<span class="token punctuation">}</span></pre><h2><a class="anchor" name="tips"></a>Tips <a class="hash-link" href="#tips">#</a></h2><h3><a class="anchor" name="mock-native-modules-using-jestmock"></a>Mock native modules using jest.mock <a class="hash-link" href="#mock-native-modules-using-jestmock">#</a></h3><p>The Jest preset built into <code>react-native</code> comes with a few default mocks that are applied on a react-native repository. However some react-native components or third party components rely on native code to be rendered. In such cases, Jest&#x27;s manual mocking system can help to mock out the underlying implementation.</p><p>For example, if your code depends on a third party native video component called <code>react-native-video</code> you might want to stub it out with a manual mock like this:</p><pre class="prism language-js">jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;react-native-video&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#x27;Video&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>This will render the component as <code>&lt;Video {...props} /&gt;</code> with all of its props in the snapshot output.</p><p>Sometimes you need to provide a more complex manual mock. For example if you&#x27;d like to forward the prop types or static fields of a native component to a mock, you can return a different React component from a mock through this helper from jest-react-native:</p><pre class="prism language-js">jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;path/to/MyNativeComponent&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mockComponent <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;react-native/jest/mockComponent&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">mockComponent</span><span class="token punctuation">(</span><span class="token string">&#x27;path/to/MyNativeComponent&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Or if you&#x27;d like to create your own manual mock, you can do something like this:</p><pre class="prism language-js">jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;Text&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> RealComponent <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">requireActual</span><span class="token punctuation">(</span><span class="token string">&#x27;Text&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;React&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">Text</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;Text&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  Text<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> RealComponent<span class="token punctuation">.</span>propTypes<span class="token punctuation">;</span>
  <span class="token keyword">return</span> Text<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>In other cases you may want to mock a native module that isn&#x27;t a React component. The same technique can be applied. We recommend inspecting the native module&#x27;s source code and logging the module when running a react native app on a real device and then modeling a manual mock after the real module.</p><p>If you end up mocking the same modules over and over it is recommended to define these mocks in a separate file and add it to the list of <code>setupFiles</code>.</p><h3><a class="anchor" name="react-native-test-renderer-import"></a>react-native は test renderer の前に import される必要があります <a class="hash-link" href="#react-native-test-renderer-import">#</a></h3><p>現時点では react-native は test renderer がロードされる前に import されている必要があります。</p><pre class="prism language-javascript"><span class="token keyword">import</span> <span class="token string">&#x27;react-native&#x27;</span><span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// react-native の後に import される必要があります</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">&#x27;react-test-renderer&#x27;</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="providesmodule"></a><code>@providesModule</code> <a class="hash-link" href="#providesmodule">#</a></h3><p>もしあなたが Facebook の <code>@providesModule</code> モジュールシステムを npm パッケージを通して使いたい場合は、デフォルトの haste 設定を上書きする必要があり、npm モジュールを <code>providesModuleNodeModules</code> に追加しなければなりません。</p><pre class="prism language-json"><span class="token property">&quot;haste&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;defaultPlatform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ios&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;platforms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;android&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ios&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;providesModuleNodeModules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;react-native&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;my-awesome-module&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;my-text-component&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></pre><p>もしあなたが違うデフォルトプラットフォームでテストしたい場合や、別のプラットフォームに対してビルドしている場合は、<code>defaultPlatform</code> もしくは <code>platforms</code> を変更することができます。</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="tutorial-react.html#content">← 前</a><a class="docs-next button" href="tutorial-async.html#content">次 →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/jest/docs/ja/getting-started.html">Getting Started</a><a href="/jest/docs/ja/snapshot-testing.html">Guides</a><a href="/jest/docs/ja/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/ja/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><script>
              var search = docsearch({
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react'
              });
            </script></body></html>